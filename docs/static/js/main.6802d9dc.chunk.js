(this.webpackJsonpsemrush_test=this.webpackJsonpsemrush_test||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(2),i=n.n(c),r=n(6),s=n.n(r),o=(n(12),n(3)),l=function(e){return isNaN(e)?0:e},u=function(e,t,n,a){var c=e-t,i=function(e,t,n){var a=t/1200,c=Math.pow(1+a,12*n);return Math.round(e*a*c/(c-1))}(c,n,a),r=function(e){return Math.round(5*e/3)}(i),s=function(e,t,n,a){return e*t*12-n+a}(i,a,e,t);return{loanBody:c,monthlyPayment:l(i),income:l(r),overpayment:l(s)}},j=function(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")},m=(n(13),function(e){var t=e.name,n=e.isRequired,i=e.type,r=e.labelText,s=e.ico,l=e.value,u=e.onChange,m=Object(c.useState)(!1),d=Object(o.a)(m,2),b=d[0],p=d[1],O=j(l),f=b?"input-group focused":"input-group";return Object(a.jsxs)("label",{className:f,children:[Object(a.jsx)("span",{className:"label",children:r}),Object(a.jsx)("span",{className:"placeholder",children:O}),Object(a.jsx)("span",{className:"ico",children:s}),Object(a.jsx)("input",{type:i,id:t,value:l,onChange:function(e){return u(+e.target.value)},required:n,onFocus:function(){return p(!0)},onBlur:function(){return p(!1)}})]})}),d=i.a.memo(m),b=n(1),p="SET_PRICE",O="SET_INITIAL_PAYMENT",f="SET_PERIOD",y="SET_RATE",h="CALCULATE_OFFER",x="SAVE_DATA",v="CLEAR_DATA",N="SET_RATIO",_={price:0,initialPayment:0,period:0,rate:0,loanBody:0,monthlyPayment:0,income:0,overpayment:0,ratio:null},P=[10,15,20,25,30],g=i.a.createContext(),T=window.localStorage,C=function(){return Object(c.useContext)(g)},R=function(e,t){switch(t.type){case p:return Object(b.a)(Object(b.a)({},e),{},{price:t.payload,initialPayment:e.ratio?t.payload/100*e.ratio:e.initialPayment});case O:return Object(b.a)(Object(b.a)({},e),{},{initialPayment:t.payload,price:e.ratio?t.payload/e.ratio*100:e.price});case f:return Object(b.a)(Object(b.a)({},e),{},{period:t.payload});case y:return Object(b.a)(Object(b.a)({},e),{},{rate:t.payload});case N:return Object(b.a)(Object(b.a)({},e),{},{ratio:t.payload});case h:return Object(b.a)(Object(b.a)({},e),u(e.price,e.initialPayment,e.rate,e.period));case x:for(var n in T.clear(),e)T.setItem(n,e[n]);return e;case v:return T.clear(),e;default:return e}},E=function(e){var t=e.children,n=function(e,t){if(0===t.length)return e;var n={};for(var a in e)n[a]=+t.getItem(a);return n}(_,T),i=Object(c.useReducer)(R,n),r=Object(o.a)(i,2),s=r[0],l=r[1],u=s.price,j=s.initialPayment,m=s.period,d=s.rate,b=s.monthlyPayment,P=s.income,C=s.overpayment,E=s.loanBody,A=s.ratio;return Object(a.jsx)(g.Provider,{value:{setRatio:function(e){return l({type:N,payload:e})},ratio:A,price:u,setPrice:function(e){return l({type:p,payload:e})},initialPayment:j,setInitPm:function(e){return l({type:O,payload:e})},period:m,setPeriod:function(e){return l({type:f,payload:e})},rate:d,setRate:function(e){return l({type:y,payload:e})},calculateOffer:function(){return l({type:h})},monthlyPayment:b,income:P,overpayment:C,loanBody:E,saveData:function(){return l({type:x})},clearData:function(){return l({type:v})}},children:t})},A=(n(14),function(e){var t=e.list,n=C(),c=n.setRatio,r=n.ratio,s=n.price,o=n.setInitPm;return t.map((function(e){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("input",{type:"radio",name:"procent",className:"procent_input",id:"id_".concat(e),value:e,onChange:function(e){c(+e.target.value),o(s/100*+e.target.value)},defaultChecked:r===e}),Object(a.jsxs)("label",{className:"procent_label",htmlFor:"id_".concat(e),children:[e,"%"]})]},e)}))}),I=n(4),S=(n(15),function(e){var t=e.className,n=e.text,c=Object(I.a)(e,["className","text"]);return Object(a.jsx)("button",Object(b.a)(Object(b.a)({type:"button",className:t},c),{},{children:n}))}),D=(n(16),function(e){var t=e.className,n=Object(I.a)(e,["className"]);return Object(a.jsx)(S,Object(b.a)({type:"submit",className:"button-submit ".concat(t)},n))}),B=(n(17),function(){var e=C(),t=e.price,n=e.initialPayment,i=e.period,r=e.rate,s=e.setPrice,o=e.calculateOffer,l=e.setInitPm,u=e.setPeriod,j=e.setRate,m=e.saveData,b=e.clearData;return Object(c.useEffect)((function(){o()}),[t,n,i,r]),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m()},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(d,{name:"price",isRequired:!0,type:"number",labelText:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438",value:t,onChange:s,ico:"\u20bd"}),Object(a.jsx)(d,{name:"initialPayment",isRequired:!0,type:"number",labelText:"\u041f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0437\u043d\u043e\u0441",value:n,onChange:l,ico:"\u20bd"}),Object(a.jsx)("fieldset",{className:"controls radio-list",children:Object(a.jsx)(A,{list:P})}),Object(a.jsx)(d,{name:"period",isRequired:!0,type:"number",labelText:"\u0421\u0440\u043e\u043a \u043a\u0440\u0435\u0434\u0438\u0442\u0430",value:i,onChange:u,ico:"\u043b\u0435\u0442"}),Object(a.jsx)(d,{name:"rate",isRequired:!0,type:"number",labelText:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430",value:r,onChange:j,ico:"%"})]}),Object(a.jsxs)("fieldset",{className:"controls",children:[Object(a.jsx)(D,{className:"button",text:"Save"}),Object(a.jsx)(S,{className:"button",text:"Clear",onClick:function(){b()}})]})]})}),q=i.a.memo(B),w=function(){var e=C(),t=e.monthlyPayment,n=e.income,c=e.overpayment,i=e.loanBody;return Object(a.jsxs)("section",{className:"info",children:[Object(a.jsxs)("p",{className:"info_item",children:[Object(a.jsx)("span",{className:"info_item_title",children:"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"}),Object(a.jsxs)("span",{className:"info_item_value",children:[j(t)," \u20bd"]})]}),Object(a.jsxs)("p",{className:"info_item",children:[Object(a.jsx)("span",{className:"info_item_title",children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043e\u0445\u043e\u0434"}),Object(a.jsxs)("span",{className:"info_item_value",children:[j(n)," \u20bd"]})]}),Object(a.jsxs)("p",{className:"info_item",children:[Object(a.jsx)("span",{className:"info_item_title",children:"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"}),Object(a.jsxs)("span",{className:"info_item_value",children:[j(c)," \u20bd"]})]}),Object(a.jsxs)("p",{className:"info_item",children:[Object(a.jsx)("span",{className:"info_item_title",children:"\u0422\u0435\u043b\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0430"}),Object(a.jsxs)("span",{className:"info_item_value",children:[j(i)," \u20bd"]})]})]})};n(18);var F=function(){return Object(a.jsxs)("main",{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)(q,{})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)(w,{})})]})};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(E,{children:Object(a.jsx)(F,{})})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.6802d9dc.chunk.js.map